# Example gathering nested tags and  fields using object_selection
# Example taken from: https://github.com/influxdata/feature-requests/issues/160

[[inputs.file]]
files = ["./testdata/kafka_logs/input.json"]
data_format = "json_v2"
        [[inputs.file.json_v2]]
            [[inputs.file.json_v2.object_selection]]
            query = "metrics"
            ignore_list = [
                "tags",
                "timestamp",
            ]
            value_type_map = [
                "LogEndOffset" = "int",
                "LogStartOffset" = "int",
                "NumLogSegments" = "int"
                "size" = "int",
                "UnderReplicatedPartitions" = "int"
            ]
            tag_list = [
                "name"
            ]
