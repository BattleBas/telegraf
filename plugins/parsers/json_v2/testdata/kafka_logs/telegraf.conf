# Example gathering nested tags and  fields using object_selection
# Example taken from: https://github.com/influxdata/feature-requests/issues/160

[[inputs.file]]
files = ["./testdata/kafka_logs/input.json"]
data_format = "json_v2"
        [[inputs.file.json_v2]]
            [[inputs.file.json_v2.object_selection]]
            query = "metrics"
            # All found values, except for the ones with the key's listed in `ignore_list` will be included in the metric
            ignored_keys = ["tags", "timestamp"]
            # All found values will default to field, except for the ones with the key's listed in `tag_list` they will be tags
            tag_list = ["name"]
                # e.g. the value of "LogEndOffset" in the JSON input will be to "int", or throw an error if not possible
                [inputs.file.json_v2.object_selection.value_types]
                LogEndOffset = "int"
                LogStartOffset = "int"
                NumLogSegments = "int"
                Size = "int"
                UnderReplicatedPartitions = "int"
